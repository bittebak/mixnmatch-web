<!DOCTYPE html>
<html>
<!-- This line is necessary to support $location HTML5 mode (for query string parameters). -->
<base href="/admin/">
<link rel="stylesheet" href = "http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
<script src= "admin-controller.js"></script>


<body ng-app="myApp" ng-controller="productControl">
<center><img src="http://22punewjo5r2fmxet1enlu41.wpengine.netdna-cdn.com/wp-content/uploads/LOGO2.jpg" width="300" ></center>

<!--
<img src="http://www.royalrepubliq.com/images/tiles/78_image_1.jpg" width="380" ><img src="http://www.royalrepubliq.com/images/tiles/79_image_1.jpg" width="380" ><img src="http://www.royalrepubliq.com/images/tiles/80_image_1.jpg" width="380" >
-->

<div class="container">

<!-- login -->
<div ng-hide="hideLoggedIn()">
    <hr>
    <button class="btn btn-success" ng-click="login()" >
    <span class="glyphicon glyphicon-user"></span>Login</button>

    

    <form class="form-horizontal" ng-hide="hideLoggedIn()">
      <div class="form-group">
        <label class="col-sm-2 control-label">Username:</label>
        <div class="col-sm-10">
        <input type="text" ng-model="username" ng-disabled="{{ loggedIn }}" placeholder="Username">
        </div>
      </div> 
    
      <div class="form-group">
        <label class="col-sm-2 control-label">Password:</label>
        <div class="col-sm-10">
        <input type="password" ng-model="password" placeholder="Password">
        </div>
      </div>
    </form>
    <hr>
  </div>

  <!-- Order -->

  <div ng-hide="!hideLoggedIn()" id="loggedin">
    <div id="orders">
      <h3>Orders from Apps4Fashion</h3>

      <table class="table table-striped">
        <thead>
          <tr>
            <th>Message</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="message in syncMessages">
            
            <td>{{ message }}</td>
          </tr>
      </tbody>
    </table>
    <button class="btn btn-success" ng-click="syncOrders()">
    <span class="glyphicon glyphicon-save"></span>Sync Orders</button>
  </div>

  <h3>Products</h3>
  <button class="btn btn-success" ng-click="incrementalUpdateProducts()" id="btn-incremental">
  <span class="glyphicon glyphicon-save"></span>Incremental product update</button>
  <label for="btn-incremental">Update products that are upated in EC (e.g. description or the stock.) </label>
  <br>
  <br>
  
  
  <button class="btn btn-success" ng-click="replaceSeasonProducts()" id="btn-update-seasons">
  <span class="glyphicon glyphicon-save"></span>Full update Seasonal</button>
  <label for="btn-update-seasons">Replace only Bridge and Pre Sales </label>
  <br><br>

   <button class="btn btn-success" ng-click="replaceProducts()" id="btn-replace-products">
  <span class="glyphicon glyphicon-save"></span>Full update All.</button>
  <label for="btn-replace-products">Replace all products. !!!This will take 1 hour to complete!!! </label>
  

  <h3>Customers</h3>
  <button class="btn btn-success" ng-click="updateCustomers()">
  <span class="glyphicon glyphicon-save"></span>Update all customers</button>

    <hr>
    
    <button class="btn btn-success" ng-click="checkConfig()" id="btn-config">
    <span class="glyphicon glyphicon-save"></span>Check config</button>
    <label for="btn-config">Perform a sanity check on the MaM configuration files.</label>
    <div>Check the results for this check in <a href="../log/admin/config.log">log files</a>

    <hr>
    <div>
    <label for="message">Previous message </label> 
      <text id="message">({{previousMessage}})</text>
      <br>
      <label for="new-message">New message</label> 
      <text id="new-message">{{message}}</text>
       
    </div>
  </div>

  <textarea id="txt-box">{{ apiMessage }}</textarea>
  <label for="txt-box">This text box might show usefull information about the latest action.</label>

</div>


</body>
<footer>
    <h3>Version information</h3>
    <h4>MaM admin webpage</h4>
    <p>Last changed : April 02, 2017<p>
    <p>Changes : 
      new buttons
    </p> 
    <h4>MaM API</h4> 
    <p>version    :{{version.version}}</p>
    <p>Changed on :{{version.buildTimeStamp}}</p>
    <p>changes    :{{version.changes}}</p>
  </footer>   
</html>